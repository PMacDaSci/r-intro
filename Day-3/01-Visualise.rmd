---
title: 'Workshop 3.1: Visualise with ggplot2'
author: "James Morgan, Lucy Liu"
date: '`r format(Sys.time(), "Last modified: %d %b %Y")`'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Install the packages

Option 1: Install the entire tidyverse  
This option will install ggplot, dplyr and about 70 other packages that are designed to work together under the same philosophy of tidy data.

```{r Install the tidyverse, eval=FALSE}
install.packages("tidyverse")
```

Option 2: Install ggplot2 only
```{r Install ggplot2, eval=FALSE}
install.packages("ggplot2")
```

## Load the packages

Packages are an extension on the capabilities of Base R. A package may be installed, but it can only be used after explicitly loading it into our envirionment.  
```{r Load ggplot2, eval=FALSE}
library(ggplot2)
```

## Check your Data
For this session, we'll be using a built in dataset: "Miles per gallon"

Before we start to visualise our data, it's always a good idea to make sure it looks basically right.

Take a look at the data
```{r Check that data}
#View(mpg)
mpg
```

Check the structure of the data frame.
```{r Check that data 2}
str(mpg)
```

Generate a summary of the data inside the data frame.
```{r Check that data 3}
summary(mpg)
```

Note that this only works because this dataset is built in.
```{r Check that data 4}
?mpg
```

### Quiz 1
Now we know a little bit about the data...

Take a minute to discuss with the person next to you:  
What relationship do you expect to see between displ (engine volume (L)) and hwy (fuel efficiency on the highway)?

Put up a green sticky note when you're ready!

## The Grammar of Graphics
The "grammar of graphics" works by introducing consecutive layers of content onto a plot.

First, we initalise the plot. This creates a plot object, and associates some data to it.
```{r Intro to ggplot}
ggplot(data = mpg)
```

As we can see, we've generated a blank canvas. The next thing to do is to specify which data we want to display.

To do this, we add a "geom" layer on top of our canvas. In this case, the geom 'maps' the relevant data across a cartesian plane:

```{r Intro to ggplot 2}
ggplot(data=mpg) +
    geom_point(mapping = aes(x=displ, y=hwy))
```

